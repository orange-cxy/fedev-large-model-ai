const e=(e,s={})=>({modelId:"cozeV2",bot_id:void 0,user:void 0,query:e,chat_history:[],stream:s.stream||!1,custom_variables:{prompt:e}}),s=e=>({context:e.messages[0].content}),t=e=>{try{if(console.log("CozeV2 parsing chunk:",typeof e,e),"object"==typeof e&&null!==e)return"message"===e.event&&e.message&&"assistant"===e.message.role?e.message.content||"":e.message&&"assistant"===e.message.role&&e.message.content||"";if("string"==typeof e){let s=e;e.startsWith("data:")&&(s=e.substring(5).trim());const t=JSON.parse(s);if("message"===t.event&&t.message&&"assistant"===t.message.role)return t.message.content||"";if(t.message&&"assistant"===t.message.role)return t.message.content||""}return""}catch(s){return console.error("解析CozeV2流式响应失败:",s,"Chunk:",e),""}};export{e as formatPayload,s as formatResponse,t as parseStreamChunk};
//# sourceMappingURL=cozeV2-ETZEYyZw.js.map
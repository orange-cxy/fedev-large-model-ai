const e=(e,s={})=>({modelId:"cozeV3",bot_id:void 0,user_id:void 0,stream:s.stream||!1,query:"你好",chat_history:[],custom_variables:{prompt:e}}),s=e=>({context:e.msg}),t=e=>{try{if(console.log("CozeV3 parsing chunk:",typeof e,e),"object"==typeof e&&null!==e)return"message"===e.event&&e.message&&"assistant"===e.message.role?e.message.content||"":e.message&&"assistant"===e.message.role&&e.message.content||"";if("string"==typeof e){let s=e;e.startsWith("data:")&&(s=e.substring(5).trim());const t=JSON.parse(s);if("message"===t.event&&t.message&&"assistant"===t.message.role)return t.message.content||"";if(t.message&&"assistant"===t.message.role)return t.message.content||""}return""}catch(s){return console.error("解析CozeV3流式响应失败:",s,"Chunk:",e),""}};export{e as formatPayload,s as formatResponse,t as parseStreamChunk};
//# sourceMappingURL=cozeV3-jeLll5cu.js.map